/*!
 * cxSlide 1.0
 */
(function(e){e.fn.cxSlide=function(t){if(!this.length)return;t=e.extend({},e.cxSlide.defaults,t);var n=this,r={};r.fn={};var i;r.free_banner=n.find(".free_banner"),r.fb_listtop=r.free_banner.find(".fb_listtop"),r.items=r.fb_listtop.find("li"),r.itemSum=r.items.length;if(r.itemSum<=1)return;r.numfb_listtop=n.find(".fb_listbtm"),r.numfb_listbtms=r.numfb_listtop.find("li"),r.plusfb_listbtm=n.find(".plus"),r.minusfb_listbtm=n.find(".minus"),r.free_bannerWidth=r.free_banner.width(),r.free_bannerHeight=r.free_banner.height(),r.s=0;if(t.fb_listbtm&&!r.numfb_listtop.length){i="";for(var s=1;s<=r.itemSum;s++)i+="<li class='b_"+s+"'>"+s+"</li>";r.numfb_listtop=e("<ul></ul>",{"class":"fb_listbtm",html:i}).appendTo(n),r.numfb_listbtms=r.numfb_listtop.find("li")}t.plus&&!r.plusfb_listbtm.length&&(r.plusfb_listbtm=e("<div></div>",{"class":"plus"}).appendTo(n)),t.minus&&!r.minusfb_listbtm.length&&(r.minusfb_listbtm=e("<div></div>",{"class":"minus"}).appendTo(n)),r.fn.on=function(){if(!t.auto)return;r.fn.off(),r.run=setTimeout(function(){r.fn.goto()},t.time)},r.fn.off=function(){typeof r.run!="undefined"&&clearTimeout(r.run)},r.fn.checkfb_listbtm=function(e){r.numfb_listtop.length&&r.numfb_listbtms.eq(e).addClass("selected").siblings("li").removeClass("selected")},r.fn.goto=function(e){r.fn.off();var n=typeof e=="undefined"?r.s+1:parseInt(e,10),i=r.s,s=r.itemSum-1;if(n==r.s){r.fn.on();return}n>s?n=0:n<0&&(n=s),r.fn.checkfb_listbtm(n);var o;switch(t.type){case"x":o=r.free_bannerWidth*n,n==0&&i==s?(r.items.eq(0).css({left:r.free_bannerWidth*r.itemSum}),o=r.free_bannerWidth*r.itemSum):i==0&&(r.items.eq(0).css({left:""}),r.free_banner.scrollLeft(0)),r.free_banner.stop(!0,!1).animate({scrollLeft:o},t.speed);break;case"y":o=r.free_bannerHeight*n,n==0&&i==s?(r.items.eq(0).css({top:r.free_bannerHeight*r.itemSum}),o=r.free_bannerHeight*r.itemSum):i==0&&(r.items.eq(0).css({top:""}),r.free_banner.scrollTop(0)),r.free_banner.stop(!0,!1).animate({scrollTop:o},t.speed);break;case"fade":r.items.css({display:"none",position:"absolute",top:0,left:0,zIndex:""}),r.items.eq(i).css({display:"",zIndex:1}),r.items.eq(n).css({zIndex:2}).fadeIn(t.speed);break;case"toggle":r.items.eq(n).show().siblings("li").hide()}r.s=n,r.free_banner.queue(function(){r.fn.on(),r.free_banner.dequeue()})},r.free_banner.hover(function(){r.fn.off()},function(){r.fn.on()}),t.fb_listbtm&&r.numfb_listtop.delegate("li",t.events,function(){r.fn.goto(r.numfb_listbtms.index(e(this)))}),t.plus&&r.plusfb_listbtm.bind(t.events,function(){r.fn.goto()}),t.minus&&r.minusfb_listbtm.bind(t.events,function(){r.fn.goto(r.s-1)}),r.fn.checkfb_listbtm(t.start),r.fn.goto(t.start)},e.cxSlide={defaults:{events:"click",type:"x",start:0,speed:800,time:5e3,auto:!0,fb_listbtm:!0,plus:!1,minus:!1}}})(jQuery);